/* assets/default-card.css — version propre et ordonnée
   Ordre:
   1) Variables
   2) Base carte & éléments
   3) États de densité
   4) Palettes par catégorie
   5) Impression
   6) Typo & lisibilité
   7) Style du verso
*/

/* 1) Variables */
:root {
  --radius: 14pt;
  --ink: #111827;   /* encre principale (quasi noir) */
  --muted: #475569; /* texte secondaire lisible */
  --shadow: rgba(0, 0, 0, .18);
}

/* 2) Base carte & éléments */
.card {
  display: flex;
  flex-direction: column;
  height: 100%;
  width: 100%;
  box-sizing: border-box;
  padding: 12pt;
  border-radius: var(--radius);
  background: var(--bg, #e5e7eb);
  color: var(--ink);
  box-shadow: 0 6pt 16pt var(--shadow);
  font-family: 'Lato', Inter, Arial, sans-serif;
  position: relative;
  overflow: hidden;
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
}

.card-badge {
  position: absolute;
  top: 10pt;
  left: 50%;
  transform: translateX(-50%);
  width: 28pt;
  height: 28pt;
  border-radius: 9999px;
  background: var(--pill, #0b254a);
  color: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 12pt;
  box-shadow: 0 2pt 6pt var(--shadow);
}

.card-band {
  margin-top: 18pt;
  background: var(--pill);
  color: #fff;
  border-radius: 10pt;
  padding: 6pt 10pt;
  text-align: center;
  font-size: 9pt;
  font-weight: 700;
}

.card-panel {
  margin-top: 10pt;
  flex: 1;
  min-height: 0;
  background: #fff;
  border-radius: 12pt;
  padding: 12pt 12pt 8pt;
  box-shadow: inset 0 0 0 0.6pt rgba(0, 0, 0, .04);
  display: flex;
  flex-direction: column;
}

.card-client {
  font-size: 12pt;
  font-weight: 800;
  margin-bottom: 6pt;
}

.card-sep {
  height: 0.6pt;
  background: #e5e7eb;
  margin: 6pt 0 8pt;
}

.card-body {
  font-size: 9.3pt;
  line-height: 1.45;
  flex: 1;
  min-height: 0;
  overflow: hidden;
  display: -webkit-box;
  -webkit-line-clamp: 16;
  line-clamp: 16;
  -webkit-box-orient: vertical;
}

.card-footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 8pt;
  margin-top: 10pt;
}

.card-malefice {
  font-size: 7.2pt;
  line-height: 1.3;
  font-style: italic;
  color: var(--muted);
  flex: 1;
  min-height: 10pt;
}

.card-id {
  font-size: 8pt;
  font-weight: 700;
  color: #334155;
}

/* 3) États de densité */
.card.compact .card-panel { padding: 10pt 10pt 6pt; }
.card.ultra .card-panel   { padding: 9pt 9pt 5pt; }
.card.compact .card-body  { font-size: 8.8pt; -webkit-line-clamp: 18; line-clamp: 18; }
.card.ultra .card-body    { font-size: 8.4pt; -webkit-line-clamp: 20; line-clamp: 20; }

/* 4) Couleurs par catégorie */
.card.survey    { --bg: #ffd166; --pill: #0a3d91; }
.card.routage   { --bg: #0ea5e9; --pill: #063a6b; }
.card.api       { --bg: #26c0a8; --pill: #0d4c46; }
.card.bo        { --bg: #f59e0b; --pill: #7a4a05; }
.card.flux      { --bg: #22a6f2; --pill: #0a3d91; }
.card.securite  { --bg: #ef4444; --pill: #5b1111; }
.card.sdk       { --bg: #14b8a6; --pill: #0c4f48; }
.card.activation{ --bg: #475569; --pill: #1f2937; }
.card.general   { --bg: #f1b94a; --pill: #233144; }
.card.challenge { --bg: #6d28d9; --pill: #2a1366; }

/* 5) Optimisation impression */
@media print {
  .card-panel { padding: 10pt 10pt 6pt; }
  .card-body {
    -webkit-line-clamp: unset;
    line-clamp: unset;
    display: block;
    overflow: visible;
    font-size: 8.8pt;
    line-height: 1.35;
  }
  .card-client { margin-bottom: 4pt; }
  .card-footer { margin-top: 6pt; }
}

/* 6) Typo & lisibilité */
.card        { font-family: Lato, Inter, Arial, sans-serif; }
.card-client { font-family: 'Roboto Slab', Georgia, serif; }
.card-panel * { color: inherit !important; }
.card .fa, .card .fas { color: currentColor !important; }


/* --- 7) STYLES POUR LE VERSO DE LA CARTE --- */
.card.card--back {
  background-color: #0f172a;
  border: 4pt solid #fff;
  padding: 0; /* Annule le padding hérité pour que le fond prenne toute la place */
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: inset 0 0 0 1pt #0f172a; /* Ombre intérieure pour une bordure nette */
}
.card--back .logo {
  width: 50%;
  max-height: 50%;
  filter: invert(1) drop-shadow(0 2px 4px rgba(0,0,0,0.5));
}

